中国环境科学
CHINA ENVIRONMENTAL SCIENCE
1998年 第18卷 第3期 No.3 Vol.18 1998
科技期刊

水污染可控性分析的可视化系统研究
宣　华　(中国环境管理干部学院环境信息系,秦皇岛 066000)
文　摘　 以河南省安阳市境内的万金渠为例，在国内首次提出了实现水污染可控性分析的计算机图形可视化系统的技术路线和系统设计方案，探讨了实现河流水系动态画面交互处理的可能性。为处理大量的、瞬息多变的流域水环境信息提供简单可行的技术手段，使决策者能够及时掌握和了解实际水系的各种变化情况而进行决策。
关键词　水污染　可视化　交互处理　动态显示
Study on the visualization of control analysis for water pollution.Xuan Hua (Department of Environmental Information, Chinese College of Environmental Management Officials,Qinhuangdao 066000).China Environmental Science.1998,18(3):231～235
Abstract―Taking Wanjin Canal water system for example, this paper for the first time in our country,puts forword the technical route of realizing the visualization system of computer pictures for the control analysis of water pollution and the design program of the system. The possibility of realizing mutual treatments for the dynamic pictures of river system is discussed in detail. The simple and practical mean is provided for dealing with the water environmental information of a large number of changing valley in a twinkle. By way of this technique, decision makers can make a new decision successfully when they grasp and know well the various changing circumstances of actual water systems.
Key words:water pollution　visualization　mutual treatments　dynamic pictures
　　进行水环境规划，首先要揭示的是规划范围内环境性质的空间变化规律，摸清环境现状，并由此进行功能区划、环境容量计算等一系列工作，这些工作都基于地理位置图。长期以来，人们就企盼着能将一张张表格数字变成一幅幅彩色的、动态的、真实的现场画面，将各种水环境数据，通过计算反映在计算机图形中，在屏幕上动态地观察各河流各功能区的一系列变化。决策者可以通过对图形的观察，了解各因素的情况，根据图形的大小、色彩、形状等，对各种方案进行比较和决策，为水环境管理、规划提供高效的服务。
　　目前计算机可视化技术已在许多领域得到应用〔1〕，然而在国内环境保护领域的应用还未见报道。本文将可视化技术应用到水环境规划中，以满足广大环境保护工作者的需求，提高我国环境管理的水平。
1　可视化技术在水污染可控性分析中的应用
　　可视化技术是指利用计算机图形技术和方法，对大量的数据进行处理，并以图形、图象的形式，形象而具体地显示出来〔1〕。实际上人们认识世界的重要方法之一就是用视觉观察客观存在。它作为科研工作的一种强有力的手段，大大提高了人类认识世界、研究世界的能力〔2〕。
　　在进行水污染可控性分析中应用计算机图形可视化技术，可以通过水系图形的动态显示，直接观察到每条河流每个控制单元的水质情况，变静态的数据表格为动态的图形输出。在水系画面的基础上，随着数据的变化，水质状况也会随之变化， 反映到图形上的颜色和画面也随之变化，操作者通过比较和修改各种参数，直接找出污染程度的临界值和最佳控制点，实现对计算过程的引导和动态控制，用以进行环境评价、预测和决策。
2　水污染可控性分析程序框图
　　该程序的主要功能是对排向河流的污染源进行具体的可控性分析，计算出全河段的主要污染控制单元和每一单元的主要污染源，并对每一种污染物进行单因子的解析，按照GB8978-88制定的三级五项排污标准，对每一污染源的每一种污染物排放情况进行解析(见图1)。

图1　水污染可控性分析的可视化系统框图
Fig.1　Sketch of visualization system of control
analysis for water pollution
3　主要功能模块简介
3.1　污染源活动窗口开启、关闭模块
　　当用户需要对某个污染源进行数据的录入、查看、修改等操作时，可点击鼠标，在该点源位置附近将开出一个窗口，显示出该点源的名称、排放量及排放浓度等信息。如改动其中某一数据，将引起图形色彩的变化、比例的变化、排序的变化等等。
3.2　图形色彩变化模块
　　该模块根据有关数学模型计算的结果，调用色彩函数，将水系的不同区域染成不同的颜色〔3〕，颜色越深，越接近黑色，则表明该区域污染越严重；反之颜色越浅，越接近浅兰色，则表明该区域较为清洁，应保持下去。决策者可根据颜色的深浅变化，反复修改数据，找出最满意的结果。
3.3　各控制断面主要污染源排放顺序显示模块
　　该模块的作用是在众多的污染源中选出影响该断面最为严重的前5个污染源，选择的原则是综合选择，即综合各种污染物的排放浓度和排放量，最后选定严重制约该断面污染程度的重点污染源，为决策者制定治理方案提供依据。该模块受制于数据的变化，如在污染源活动窗口中修改某一数据，都将引起模块的变化，即重新计算、重新排序、重新显示，始终给用户一种全新的变化信息。
3.4　全流域超标点源超标状况滚动显示模块
　　该模块的功能是在选定某一污染因子后，按照 GB8978-88有关该污染物的一、二、三级排放标准的五项具体排放指标，在全河段范围内找出超标准排放的污染源，并具体计算出对哪些标准有超标排放及超标排放的倍数，滚动显示输出，不超标则不显示，这项数据对决策者进行污染物的削减量计算有具体的指导意义。同时对新建工程废水排放的总量与浓度的测算也有实际的意义。决策者还可根据此项数据计算环境保护投资的效益和污染物允许排放量的最佳值，作出投资少效益大的多目标决策。
3.5　全画面色彩协调显示模块
　　人们对图象的理解，除大小、形状外，颜色也是其主要的组成部分。该模块的色彩功能有别于其它图象，该模块不是以污染数据为染色的基础，而是以画面的清晰程度来用色。对于一条河流的一种污染因子，按其控制单元的个数，将每一单元的名称、数据、水系图及饼状图的该部分量都采用一种颜色协调起来，这样用户可根据颜色“一目了然”地了解到该控制单元的所有信息。
4　实例分析
　　以河南省安阳市境内的万金渠水系为例，探讨实现水系画面动态交互的可能性。
4.1　控制单元的划分
　　根据安阳市水环境功能的现状分析和安阳市急待解决的水环境问题，兼顾地理位置及一些行政管理上的要求，将万金渠流域划分为：上万金渠(徐家桥至大西门)、环城河、北万金渠、邱家沟、婴儿沟、南万金渠等控制单元〔4〕。
4.2　污染源时空分布系统
　　污染源的时空分布及排污去向是划分水体功能的重要依据，也是计算削减污染物及进行环境影响评价的重要基础数据。在万金渠水系中，选择COD、SS和石油类三项指标，将各污染源以圆圈的图符标识在图上，并以直线标明它的排污去向及所排向的区域，当用户需要了解有关污染源的信息，需要修改有关数据时，可用鼠标点动该图符，则在其附近自动开出一污染源的信息窗口，如图2所示。在开出的窗口中有该点源的名称、废水排放量及排放浓度等，用户可用鼠标和数字键配合录入和修改有关的数据，如需存盘则按“存盘”按钮，数据存盘并重新进行有关的计算；如只是浏览、不存盘则按“关闭窗口”按钮，窗口自行关闭。有关计算的结果将反映在图下方的方框内和水系各控制单元的颜色上。可直观地推测出指定区域内的重点污染源的主要污染指标。窗口功能的设计完全符合Windows的设计风格，即使对计算机不太熟，也同样可以使用与操作，达到满意的效果。

图2　污染源分布
Fig.2　Distribution of pollution sources
4.3　污染控制单元的解析系统
　　在进行水环境功能区划时，重点要研究每一个污染控制单元的排放量是否达到了该水域的功能要求，如达不到则要进行排放量的削减，而且要削减到点源，这就要计算出在这一控制单元中主要污染源和主要污染物，即排列出该单元的优先控制顺序。如要研究万金渠婴儿沟这段区域的排放情况，可点动“婴儿沟”，见图3，画面的左下方就显示出在这一区域内所有污染源的各种污染物排放量和所占总量的百分比，对于一个污染源的不同排放口，图面上则分别列出，分别计算，然后再计算其合计。点动该方框内的滚动条，可浏览全部数据，同时图3中还显现出该单元内的前5个排污大户。如在此期间修改某一污染源的排放数据，则重新计算排放量和比例数，重新排列控制顺序，重新为河段填充颜色，因此这是一个动态的系统，即可反映现状，又能预测未来。系统一但设计好，可长期使用(因为无特殊原因，监测断面不会改变)。
　

图3　污染源分布
Fig.3　Distribution of pollution sources

图4　单因子解析
Fig.4　Analysis picture of single factor
4.4　全流域综合状况分析
　　在单元分析的基础上，研究全水系的综合情况，如图2下方显示出了各控制单元的总排放情况，点击滚动按钮，可浏览所有控制单元各种污染物的排放情况，同时画面还给出了万金渠全流域水污染控制单元的优先控制顺序，该画面仍将保持最新的计算结果。
4.5　单因子解析系统
　　根据GB8978-88制定的排放标准，对每一条河流每一个控制单元进行单因子解析。即找出对不同功能河段影响最大的污染因子，计算出每条河流每个控制单元污染最重的指标，定量分析污染物的构成，计算出各个污染源对每个标准的超标倍数。并按水环境功能区划对工业结构进行经济评价，调整工业布局，加强对新建工业选址的监督，防止出现新的不合理布局，在经济迅速发展的前提下，实现经济和水环境的基本协调，这项工作是安阳市实现水环境战略中解决矛盾的协调因子之一，是分析水环境目标可达性的重要依据。若选定万金渠CODCr的单因子解析画面(见图4)。画面上以6种颜色显示出6个控制单元的有关数据，同时以6种颜色绘出水系的6段画面，画面左下方则以饼状图的形式显示出每个控制单元CODCr的百分比分布状况。3种不同的语言符号表示同一内容时，以相同的颜色，给人以直观、清晰的印象。同时在图的下方，列出了CODCr三级五项的排放标准。在万金渠沿岸，凡是有一项以上超标排放的污染源，其污染源名称及超标倍数均被分别列出，按动态滚动条可浏览全部超标的点源，同时还可选择SS和石油类的单因子解析画面。
5　结论
　　应用计算机图形可视化技术的水污染可控性分析系统，能及时准确地处理大量的、随时间和空间不断变化的环境信息，为决策者进行环境问题的分析提供了简单易行的技术手段。与GIS相比不仅费用低、易普及，而且在进行线状实体处理和模拟时也显示出了优越的性能。该软件在微机上应用，在Windows环境下运行，操作简单方便，打印功能强，资金少，见效快，可将其推广到其它城市的一般水系。
参考文献
1　唐泽圣.科学计算可视化.中国计算机用户,1996,(3):1～4
2　林　宏,李　颖,式保真.工程应用可视化系统的开发.计算机工程与设计,1996,17(1):39～46
3　李学军,周嘉玉.真实图形的颜色量化.计算机辅助设计与图形学学报,1996,8(3):193～196
4　夏　青,王华东.环境容量开发与利用.北京：北京师范大学出版社,1990

作者简介
宣　华　女，1960年10月生。现任中国环境管理干部学院环境信息系副主任，计算机教研室主任。主要从事计算机教学和环境科研工作。曾主要参加国家“七五”攻关课题“环境信息数据库在地方管理上的应用”、“秦皇岛市环境综合整治规划”等课题。发表论文6篇。
收稿日期：1997-05-15
